@page "/"
@using SipSavy.Web.Features.Cocktail.GetCocktailsOverview
@inject IMediator Mediator

<PageTitle>Cocktails</PageTitle>


<MudText Typo="Typo.h3" Align="Align.Center" GutterBottom="true">Latest</MudText>
<MudText Align="Align.Center">Cocktails from the latest videos.</MudText>
<MudGrid Class="mt-8">
    @foreach (var cocktail in Cocktails)
    {
        <MudItem xs="12" sm="6" md="4">

            <MudCard Elevation="25" Class="rounded-lg pb-4">
                <MudCardHeader>
                    <CardHeaderContent>
                        <MudText Typo="Typo.h5" Align="Align.Center">@cocktail.Name</MudText>
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>
                    <div class="d-flex justify-center">
                        <MudText Typo="Typo.h3">$5</MudText>
                        <MudText Typo="Typo.h5" Class="ml-1 mt-5" Color="Color.Secondary">/Monthly</MudText>
                    </div>
                    <MudList T="string" Class="mx-auto mt-4" Style="width:300px;">
                        <MudListItem Icon="@Icons.Material.Filled.LiveHelp">
                            Unlimited something
                        </MudListItem>
                        <MudListItem Icon="@Icons.Material.Filled.LiveHelp">
                            10 something
                        </MudListItem>
                        <MudListItem Icon="@Icons.Material.Filled.LiveHelp">
                            No something
                        </MudListItem>
                    </MudList>
                </MudCardContent>
                <MudCardActions Class="d-flex justify-center">
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" Style="width:50%;">
                        Recipe
                    </MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
    }
</MudGrid>

@code
{
    private List<GetCocktailsOverviewResponse.CocktailDto> Cocktails { get; set; } = [];

    protected override async Task OnInitializedAsync()
    {
        var res = await Mediator.Send(new GetCocktailsOverviewRequest());
        Cocktails = res.Cocktails;
    }
}
